!function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t);function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function s(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function f(e){var t={exports:{}};return e(t,t.exports),t.exports}for(var h=f((function(e){(function(){var t,n,r,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},n=process.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(c)})),p="undefined"==typeof window?c:window,d=["moz","webkit"],y="AnimationFrame",g=p["request"+y],m=p["cancel"+y]||p["cancelRequest"+y],v=0;!g&&v<d.length;v++)g=p[d[v]+"Request"+y],m=p[d[v]+"Cancel"+y]||p[d[v]+"CancelRequest"+y];if(!g||!m){var b=0,w=0,k=[];g=function(e){if(0===k.length){var t=h(),n=Math.max(0,16.666666666666668-(t-b));b=n+t,setTimeout((function(){var e=k.slice(0);k.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(b)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return k.push({handle:++w,callback:e,cancelled:!1}),w},m=function(e){for(var t=0;t<k.length;t++)k[t].handle===e&&(k[t].cancelled=!0)}}var C=function(e){return g.call(p,e)};C.cancel=function(){m.apply(p,arguments)},C.polyfill=function(e){e||(e=p),e.requestAnimationFrame=g,e.cancelAnimationFrame=m};var x=null,S=["Webkit","Moz","O","ms"],T=function(e){return E.test(e)?e.toLowerCase():O.test(e)?(function(e){return e.replace(F,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():_.test(e)?function(e){return e.replace(A,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()},E=/\s/,O=/(_|-|\.|:)/,_=/([a-z][A-Z]|[A-Z][a-z])/;var F=/[\W_]+(.|$)/g;var A=/(.)([A-Z]+)/g;var j=function(e){return T(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()};var B=function(e){return j(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))};var R={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},H={float:"cssFloat"};function M(e,t,n){var r=H[t];if(void 0===r&&(r=function(e){var t=B(e),n=function(e){x||(x=document.createElement("div"));var t=x.style;if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=S.length;r>=0;r--){var o=S[r]+n;if(o in t)return o}return!1}(t);return H[t]=H[e]=H[n]=n,n}(t)),r){if(void 0===n)return e.style[r];e.style[r]=function(e,t){return"number"!=typeof t||R[e]?t:t+"px"}(r,n)}}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&M(e,n,t[n])}function D(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:P(arguments[0],arguments[1]):M(arguments[0],arguments[1],arguments[2])}var L=D,z=D;L.set=z,L.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=M(e,n||""),t}),{}):M(e,t||"")};var N=f((function(e,t){!function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,y=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var p=e.type;switch(p){case u:case l:case o:case a:case i:case h:return p;default:var g=p&&p.$$typeof;switch(g){case c:case f:case y:case d:case s:return g;default:return t}}case r:return t}}}var k=u,C=l,x=c,S=s,T=n,E=f,O=o,_=y,F=d,A=r,j=a,B=i,R=h,H=!1;function M(e){return w(e)===l}t.AsyncMode=k,t.ConcurrentMode=C,t.ContextConsumer=x,t.ContextProvider=S,t.Element=T,t.ForwardRef=E,t.Fragment=O,t.Lazy=_,t.Memo=F,t.Portal=A,t.Profiler=j,t.StrictMode=B,t.Suspense=R,t.isAsyncMode=function(e){return H||(H=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||w(e)===u},t.isConcurrentMode=M,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===a||e===i||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===d||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||e.$$typeof===v||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w}()})),I=f((function(e){e.exports=N})),q=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;function V(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var $,X=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=V(e),i=1;i<arguments.length;i++){for(var a in n=Object(arguments[i]))W.call(n,a)&&(o[a]=n[a]);if(q){r=q(n);for(var s=0;s<r.length;s++)U.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},Y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J={},K=Function.call.bind(Object.prototype.hasOwnProperty);function G(e,t,n,r,o){for(var i in e)if(K(e,i)){var a;try{if("function"!=typeof e[i]){var s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.");throw s.name="Invariant Violation",s}a=e[i](t,i,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}if(!a||a instanceof Error||$((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in J)){J[a.message]=!0;var c=o?o():"";$("Failed "+n+" type: "+a.message+(null!=c?c:""))}}}$=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},G.resetWarningCache=function(){J={}};var Z,Q=G,ee=Function.call.bind(Object.prototype.hasOwnProperty);function te(){return null}Z=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};var ne,re=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r="<<anonymous>>",o={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:s(te),arrayOf:function(e){return s((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new a("Invalid "+o+" `"+i+"` of type `"+l(s)+"` supplied to `"+r+"`, expected an array.");for(var c=0;c<s.length;c++){var u=e(s,c,r,o,i+"["+c+"]",Y);if(u instanceof Error)return u}return null}))},element:s((function(t,n,r,o,i){var s=t[n];return e(s)?null:new a("Invalid "+o+" `"+i+"` of type `"+l(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:s((function(e,t,n,r,o){var i=e[t];return I.isValidElementType(i)?null:new a("Invalid "+r+" `"+o+"` of type `"+l(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return s((function(t,n,o,i,s){if(!(t[n]instanceof e)){var c=e.name||r;return new a("Invalid "+i+" `"+s+"` of type `"+(((u=t[n]).constructor&&u.constructor.name?u.constructor.name:r)+"` supplied to `")+o+"`, expected instance of `"+c+"`.")}var u;return null}))},node:s((function(e,t,n,r,o){return u(e[t])?null:new a("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return s((function(t,n,r,o,i){if("function"!=typeof e)return new a("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=l(s);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(ee(s,u)){var f=e(s,u,r,o,i+"."+u,Y);if(f instanceof Error)return f}return null}))},oneOf:function(e){if(!Array.isArray(e))return Z(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),te;function t(t,n,r,o,s){for(var c=t[n],u=0;u<e.length;u++)if(i(c,e[u]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===f(t)?String(t):t}));return new a("Invalid "+o+" `"+s+"` of value `"+String(c)+"` supplied to `"+r+"`, expected one of "+l+".")}return s(t)},oneOfType:function(e){if(!Array.isArray(e))return Z("Invalid argument supplied to oneOfType, expected an instance of array."),te;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return Z("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+h(n)+" at index "+t+"."),te}return s((function(t,n,r,o,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,i,Y))return null;return new a("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(e){return s((function(t,n,r,o,i){var s=t[n],c=l(s);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var f=e[u];if(f){var h=f(s,u,r,o,i+"."+u,Y);if(h)return h}}return null}))},exact:function(e){return s((function(t,n,r,o,i){var s=t[n],c=l(s);if("object"!==c)return new a("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var u=X({},t[n],e);for(var f in u){var h=e[f];if(!h)return new a("Invalid "+o+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=h(s,f,r,o,i+"."+f,Y);if(p)return p}return null}))}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e){this.message=e,this.stack=""}function s(e){var n={},o=0;function i(i,s,c,u,l,f,h){if(u=u||r,f=f||c,h!==Y){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("undefined"!=typeof console){var d=u+":"+c;!n[d]&&o<3&&(Z("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[d]=!0,o++)}}return null==s[c]?i?null===s[c]?new a("The "+l+" `"+f+"` is marked as required in `"+u+"`, but its value is `null`."):new a("The "+l+" `"+f+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(s,c,u,l,f)}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}function c(e){return s((function(t,n,r,o,i,s){var c=t[n];return l(c)!==e?new a("Invalid "+o+" `"+i+"` of type `"+f(c)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function u(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(u);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!u(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!u(a[1]))return!1}return!0;default:return!1}}function l(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function f(e){if(null==e)return""+e;var t=l(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function h(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,o.checkPropTypes=Q,o.resetWarningCache=Q.resetWarningCache,o.PropTypes=o,o},oe=f((function(e){var t=I;e.exports=re(t.isElement,!0)})),ie=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}})),ae=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&!1!==o)return o;if("undefined"!=typeof document){var t=document.createElement("div");(0,r.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}else o=0;return o||0};var n,r=(n=L)&&n.__esModule?n:{default:n};var o=!1})),se=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}})),ce=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,o=n.paddingRight;return t-parseFloat(r)-parseFloat(o)}})),ue=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,o=n.paddingBottom;return t-parseFloat(r)-parseFloat(o)}})),le=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}})),fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he=function(e){return me.default.createElement("div",e)},pe=function(e){var t=e.style,n=ve(e,["style"]),r=fe({},t,{right:2,bottom:2,left:2,borderRadius:3});return me.default.createElement("div",fe({style:r},n))},de=function(e){var t=e.style,n=ve(e,["style"]),r=fe({},t,{right:2,bottom:2,top:2,borderRadius:3});return me.default.createElement("div",fe({style:r},n))},ye=function(e){var t=e.style,n=ve(e,["style"]),r=fe({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return me.default.createElement("div",fe({style:r},n))},ge=function(e){var t=e.style,n=ve(e,["style"]),r=fe({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return me.default.createElement("div",fe({style:r},n))},me=(ne=r.default)&&ne.__esModule?ne:{default:ne};function ve(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var be=Object.defineProperty({renderViewDefault:he,renderTrackHorizontalDefault:pe,renderTrackVerticalDefault:de,renderThumbHorizontalDefault:ye,renderThumbVerticalDefault:ge},"__esModule",{value:!0}),we=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(C),a=p(L),s=p(oe),c=p(ie),u=p(ae),l=p(se),f=p(ce),h=p(ue);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(e){var n;d(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=y(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,C.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r,i=e.scrollWidth,a=void 0===i?0:i,s=e.scrollHeight,c=void 0===s?0:s,u=e.clientWidth,l=void 0===u?0:u,f=e.clientHeight,h=void 0===f?0:f;return{left:n/(a-l)||0,top:o/(c-h)||0,scrollLeft:n,scrollTop:o,scrollWidth:a,scrollHeight:c,clientWidth:l,clientHeight:h}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,o=r.scrollWidth,i=r.clientWidth,a=(0,f.default)(this.trackHorizontal),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,o=r.scrollHeight,i=r.clientHeight,a=(0,h.default)(this.trackVertical),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,f.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,o=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,o=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,u.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,o=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,o&&o(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,u.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,o=this.getThumbHorizontalWidth(),i=Math.abs(r-n)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(i)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,o=this.getThumbVerticalHeight(),i=Math.abs(r-n)-o/2;this.view.scrollTop=this.getScrollTopForOffset(i)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,o=t.getBoundingClientRect().left;this.prevPageX=r-(n-o)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,o=t.getBoundingClientRect().top;this.prevPageY=r-(n-o)}},{key:"setupDragging",value:function(){(0,a.default)(document.body,le.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=l.default}},{key:"teardownDragging",value:function(){(0,a.default)(document.body,le.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,o=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(o)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,a.default)(this.trackHorizontal,{opacity:1}),(0,a.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,a.default)(e.trackHorizontal,{opacity:0}),(0,a.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&i.default.cancel(this.requestFrame),this.requestFrame=(0,i.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,o=this.getValues();if((0,u.default)()){var i=o.scrollLeft,s=o.clientWidth,c=o.scrollWidth,l=(0,f.default)(this.trackHorizontal),p=this.getThumbHorizontalWidth(),d={width:p,transform:"translateX("+i/(c-s)*(l-p)+"px)"},y=o.scrollTop,g=o.clientHeight,m=o.scrollHeight,v=(0,h.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+y/(m-g)*(v-b)+"px)"};if(r){var k={visibility:c>s?"visible":"hidden"},C={visibility:m>g?"visible":"hidden"};(0,a.default)(this.trackHorizontal,k),(0,a.default)(this.trackVertical,C)}(0,a.default)(this.thumbHorizontal,d),(0,a.default)(this.thumbVertical,w)}n&&n(o),"function"==typeof e&&e(o)}},{key:"render",value:function(){var e=this,t=(0,u.default)(),o=this.props;o.onScroll,o.onScrollFrame,o.onScrollStart,o.onScrollStop,o.onUpdate;var i=o.renderView,a=o.renderTrackHorizontal,s=o.renderTrackVertical,l=o.renderThumbHorizontal,f=o.renderThumbVertical,h=o.tagName;o.hideTracksWhenNotNeeded;var p=o.autoHide;o.autoHideTimeout;var d=o.autoHideDuration;o.thumbSize,o.thumbMinSize;var y=o.universal,g=o.autoHeight,m=o.autoHeightMin,v=o.autoHeightMax,b=o.style,w=o.children,k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),C=this.state.didMountUniversal,x=n({},le.containerStyleDefault,g&&n({},le.containerStyleAutoHeight,{minHeight:m,maxHeight:v}),b),S=n({},le.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},g&&n({},le.viewStyleAutoHeight,{minHeight:(0,c.default)(m)?"calc("+m+" + "+t+"px)":m+t,maxHeight:(0,c.default)(v)?"calc("+v+" + "+t+"px)":v+t}),g&&y&&!C&&{minHeight:m,maxHeight:v},y&&!C&&le.viewStyleUniversalInitial),T={transition:"opacity "+d+"ms",opacity:0},E=n({},le.trackHorizontalStyleDefault,p&&T,(!t||y&&!C)&&{display:"none"}),O=n({},le.trackVerticalStyleDefault,p&&T,(!t||y&&!C)&&{display:"none"});return(0,r.default.createElement)(h,n({},k,{style:x,ref:function(t){e.container=t}}),[(0,r.default.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},w),(0,r.default.cloneElement)(a({style:E}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,r.default.cloneElement)(l({style:le.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,r.default.cloneElement)(s({style:O}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,r.default.cloneElement)(f({style:le.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(r.default.Component);t.default=g,g.propTypes={onScroll:s.default.func,onScrollFrame:s.default.func,onScrollStart:s.default.func,onScrollStop:s.default.func,onUpdate:s.default.func,renderView:s.default.func,renderTrackHorizontal:s.default.func,renderTrackVertical:s.default.func,renderThumbHorizontal:s.default.func,renderThumbVertical:s.default.func,tagName:s.default.string,thumbSize:s.default.number,thumbMinSize:s.default.number,hideTracksWhenNotNeeded:s.default.bool,autoHide:s.default.bool,autoHideTimeout:s.default.number,autoHideDuration:s.default.number,autoHeight:s.default.bool,autoHeightMin:s.default.oneOfType([s.default.number,s.default.string]),autoHeightMax:s.default.oneOfType([s.default.number,s.default.string]),universal:s.default.bool,style:s.default.object,children:s.default.node},g.defaultProps={renderView:be.renderViewDefault,renderTrackHorizontal:be.renderTrackHorizontalDefault,renderTrackVertical:be.renderTrackVerticalDefault,renderThumbHorizontal:be.renderThumbHorizontalDefault,renderThumbVertical:be.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}})),ke=u(f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(we);t.default=n.default,t.Scrollbars=n.default})));function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Se=e.forwardRef((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,s=xe(e,["color","size"]);return r.default.createElement("svg",Ce({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.default.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),r.default.createElement("polyline",{points:"22,6 12,13 2,6"}))}));function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Se.propTypes={color:oe.string,size:oe.oneOfType([oe.string,oe.number])},Se.displayName="Mail";var Oe=e.forwardRef((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,s=Ee(e,["color","size"]);return r.default.createElement("svg",Te({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.default.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))}));function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Oe.propTypes={color:oe.string,size:oe.oneOfType([oe.string,oe.number])},Oe.displayName="MessageCircle";var Ae=e.forwardRef((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,s=Fe(e,["color","size"]);return r.default.createElement("svg",_e({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.default.createElement("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"}))}));function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Ae.propTypes={color:oe.string,size:oe.oneOfType([oe.string,oe.number])},Ae.displayName="Paperclip";var Re=e.forwardRef((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,s=Be(e,["color","size"]);return r.default.createElement("svg",je({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.default.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),r.default.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))}));function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}Re.propTypes={color:oe.string,size:oe.oneOfType([oe.string,oe.number])},Re.displayName="Send";var Pe=e.forwardRef((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,s=Me(e,["color","size"]);return r.default.createElement("svg",He({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),r.default.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.default.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),r.default.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))}));function De(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}Pe.propTypes={color:oe.string,size:oe.oneOfType([oe.string,oe.number])},Pe.displayName="XCircle";function Le(t){var n=e.useState(!0),o=n[0],i=n[1],a=r.default.createRef();return e.useEffect((function(){o&&a.current.scrollToBottom()}),[t.messages]),r.default.createElement("div",{className:"sct2-message__container"},r.default.createElement(ke,{ref:a,autoHide:!0,onScroll:function(e){i(Math.round(e.target.scrollTop)+e.target.clientHeight+1>=e.target.scrollHeight)}},r.default.createElement("div",{className:"message__messages"},t.messages.map((function(e){return r.default.createElement(ze,{key:e.id,message:e,onLoad:function(){o&&a.current.scrollToBottom()}})})))))}function ze(e){var t,n="user";switch(0===e.message.sender&&(n="worker"),e.message.content._){case"text":t=r.default.createElement("div",{className:["message",n].join(" ")},e.message.content.text);break;case"photo":t=r.default.createElement("div",{className:["message photo",n].join(" ")},r.default.createElement("a",{href:e.message.content.url,target:"_blank"},r.default.createElement("img",{src:e.message.content.url,onLoad:function(){e.onLoad()}})));break;case"file":t=r.default.createElement("div",{className:["message",n].join(" ")},r.default.createElement("a",{href:e.message.content.url,target:"_blank"},"Файл"))}return r.default.createElement("div",{className:["row",n].join(" ")},t)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}De(".sct2-message__container{flex-grow:1;flex-shrink:1;padding-top:.5rem}.sct2-message__container .row{display:flex;padding-bottom:.5rem}.sct2-message__container .row.worker{padding-left:.5rem;padding-right:3rem}.sct2-message__container .row.user{padding-right:.5rem;padding-left:3rem;justify-content:flex-end}.sct2-message__container .row .message{position:relative;border-radius:4px;padding:.5rem;word-break:break-all}.sct2-message__container .row .message.user{background-color:#0072ff;color:#f6f8fa}.sct2-message__container .row .message.worker{background-color:#d8d8d8;color:#000}.sct2-message__container .row .message.photo{padding:0;background-color:transparent}.sct2-message__container .row .message img{border-radius:4px;width:200px;cursor:pointer}.sct2-message__container .row .message img:hover{box-shadow:inset 0 0 2px 1px rgba(0,140,186,.5)}");var Ie=e.useLayoutEffect,qe=function(e,t){"function"!=typeof e?e.current=t:e(t)},We={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Ue=function(e){Object.keys(We).forEach((function(t){e.style.setProperty(t,We[t],"important")}))},Ve=null;var $e=function(){},Xe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],Ye=!!document.documentElement.currentStyle,Je=function(t){var n,r,o=(n=t,r=e.useRef(n),Ie((function(){r.current=n})),r);e.useLayoutEffect((function(){var e=function(e){o.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},Ke=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,i=t.minRows,a=t.onChange,s=void 0===a?$e:a,c=t.onHeightChange,u=void 0===c?$e:c,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);if(l.style){if("maxHeight"in l.style)throw new Error("Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.");if("minHeight"in l.style)throw new Error("Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.")}var f=void 0!==l.value,h=e.useRef(null),p=function(t,n){var r=e.useRef();return e.useCallback((function(e){t.current=e,r.current&&qe(r.current,null),r.current=n,n&&qe(n,e)}),[n])}(h,n),d=e.useRef(0),y=e.useRef(),g=function(){var e=h.current,t=r&&y.current?y.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=function(e,t){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}(Xe,t),r=n.boxSizing;return""===r?null:(Ye&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(t){y.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Ve||((Ve=document.createElement("textarea")).setAttribute("tab-index","-1"),Ve.setAttribute("aria-hidden","true"),Ue(Ve)),null===Ve.parentNode&&document.body.appendChild(Ve);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,s=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;Ve.style[t]=a[t]})),Ue(Ve),Ve.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(Ve,e);Ve.value="x";var u=Ve.scrollHeight-o,l=u*n;"border-box"===s&&(l=l+o+i),c=Math.max(l,c);var f=u*r;return"border-box"===s&&(f=f+o+i),[c=Math.min(f,c),u]}(t,e.value||e.placeholder||"x",i,o),a=n[0],s=n[1];d.current!==a&&(d.current=a,e.style.setProperty("height",a+"px","important"),u(a,{rowHeight:s}))}};return e.useLayoutEffect(g),Je(g),e.createElement("textarea",Ne({},l,{onChange:function(e){f||g(),s(e)},ref:p}))},Ge=e.forwardRef(Ke);De(".sct2-chat{position:fixed;bottom:16px;right:16px;top:16px;left:16px;box-shadow:inset 0 0 0 0 #1e88e5,0 0 10px 0 #1e88e5;overflow:hidden;margin:auto 0 0 auto;border:1px solid #1e88e5;max-height:550px;max-width:350px;border-radius:8px;animation:chatin .6s 1}.sct2-chat .chat__content{display:flex;flex-direction:column;height:100%;width:100%;opacity:1;animation:chatcin .6s 1}.sct2-chat .chat__content .chat__input{box-shadow:0 0 5px -2px #000;flex-shrink:0;flex-grow:2;max-height:4rem;display:flex}.sct2-chat .chat__content .chat__input .button{padding-left:.5rem;padding-right:.5rem;display:flex;flex-direction:column;justify-content:space-between}.sct2-chat .chat__content .chat__input .button span{cursor:pointer}.sct2-chat .chat__content .chat__input .button span:hover{color:#a9a9a9}.sct2-chat .chat__content .chat__input .button span:active{color:grey}.sct2-chat .chat__content .chat__input .chat__textarea{flex-grow:1;flex-shrink:1;height:100%}.sct2-chat .chat__content .chat__input .chat__textarea textarea{box-sizing:border-box;padding:8px;width:100%;border:none;overflow:auto;outline:none;box-shadow:none;resize:none}.sct2-chat .chat__content .chat__header{display:flex;justify-content:space-between;padding:8px;background-color:#1e88e5;color:#fff}.sct2-chat .chat__content .chat__header h4{font-family:cursive;margin:0}.sct2-chat .chat__content .chat__header span{cursor:pointer}@keyframes chatcin{0%{opacity:0}50%{opacity:0}to{opacity:1}}@keyframes chatin{0%{box-shadow:inset 0 0 80px 100px #1e88e5,0 0 10px 0 #1e88e5;border-radius:64px;max-width:64px;max-height:64px}50%{box-shadow:inset 0 0 0 0 #1e88e5,0 0 10px 0 #1e88e5}to{box-shadow:inset 0 0 0 0 #1e88e5,0 0 10px 0 #1e88e5;border-radius:8px;max-height:550px;max-width:350px}}.sct2-chat.out{box-shadow:inset 0 0 80px 100px #1e88e5,0 0 10px 0 #1e88e5;border-radius:64px;max-width:64px;max-height:64px;animation:chatout .6s 1}@keyframes chatout{0%{box-shadow:inset 0 0 0 0 #1e88e5,0 0 10px 0 #1e88e5;border-radius:8px;max-height:550px;max-width:350px}50%{box-shadow:inset 0 0 80px 100px #1e88e5,0 0 10px 0 #1e88e5}to{box-shadow:inset 0 0 80px 100px #1e88e5,0 0 10px 0 #1e88e5;border-radius:64px;max-width:64px;max-height:64px}}.sct2-chat.out .chat__content{opacity:0;animation:chatcout .6s 1}@keyframes chatcout{0%{opacity:1}10%{opacity:0}to{opacity:0}}");var Ze=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],et=1e3,tt=6e4,nt=60*tt,rt=24*nt,ot=7*rt,it=365.25*rt,at=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*it;case"weeks":case"week":case"w":return n*ot;case"days":case"day":case"d":return n*rt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*nt;case"minutes":case"minute":case"mins":case"min":case"m":return n*tt;case"seconds":case"second":case"secs":case"sec":case"s":return n*et;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=rt)return st(e,t,rt,"day");if(t>=nt)return st(e,t,nt,"hour");if(t>=tt)return st(e,t,tt,"minute");if(t>=et)return st(e,t,et,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=rt)return Math.round(e/rt)+"d";if(t>=nt)return Math.round(e/nt)+"h";if(t>=tt)return Math.round(e/tt)+"m";if(t>=et)return Math.round(e/et)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function st(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var ct=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let i;function a(...e){if(!a.enabled)return;const t=a,r=Number(new Date),o=r-(i||r);t.diff=o,t.prev=i,t.curr=r,i=r,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return r;s++;const i=n.formatters[o];if("function"==typeof i){const n=e[s];r=i.call(t,n),e.splice(s,1),s--}return r})),n.formatArgs.call(t,e);(t.log||n.log).apply(t,e)}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function r(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(i),...n.skips.map(i).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=at,Object.keys(e).forEach((t=>{n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},ut=f((function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=ct(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),lt=ut("socket.io-client:url"),ft=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(lt("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),lt("parse %s",e),n=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=Ze.exec(e||""),i={},a=14;a--;)i[Qe[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i}(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n};var ht=1e3,pt=60*ht,dt=60*pt,yt=24*dt,gt=365.25*yt,mt=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*gt;case"days":case"day":case"d":return n*yt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*dt;case"minutes":case"minute":case"mins":case"min":case"m":return n*pt;case"seconds":case"second":case"secs":case"sec":case"s":return n*ht;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return vt(e,yt,"day")||vt(e,dt,"hour")||vt(e,pt,"minute")||vt(e,ht,"second")||e+" ms"}(e):function(e){if(e>=yt)return Math.round(e/yt)+"d";if(e>=dt)return Math.round(e/dt)+"h";if(e>=pt)return Math.round(e/pt)+"m";if(e>=ht)return Math.round(e/ht)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function vt(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var bt=f((function(e,t){function n(e){var n;function o(){if(o.enabled){var e=o,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=t.formatters[r];if("function"==typeof o){var i=a[c];n=o.call(e,i),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var u=o.log||t.log||console.log.bind(console);u.apply(e,a)}}return o.namespace=e,o.enabled=t.enabled(e),o.useColors=t.useColors(),o.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),o.destroy=r,"function"==typeof t.init&&t.init(o),t.instances.push(o),o}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=mt,t.instances=[],t.names=[],t.skips=[],t.formatters={}})),wt=f((function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=bt).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())})),kt=f((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),Ct={}.toString,xt=Array.isArray||function(e){return"[object Array]"==Ct.call(e)},St=function(e){return Tt&&Buffer.isBuffer(e)||Et&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))},Tt="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,Et="function"==typeof ArrayBuffer;var Ot=Object.prototype.toString,_t="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ot.call(Blob),Ft="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ot.call(File);function At(e,t){if(!e)return e;if(St(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(xt(e)){for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=At(e[o],t);return r}if("object"==typeof e&&!(e instanceof Date)){r={};for(var i in e)r[i]=At(e[i],t);return r}return e}function jt(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(xt(e))for(var n=0;n<e.length;n++)e[n]=jt(e[n],t);else if("object"==typeof e)for(var r in e)e[r]=jt(e[r],t);return e}var Bt=function(e){var t=[],n=e.data,r=e;return r.data=At(n,t),r.attachments=t.length,{packet:r,buffers:t}},Rt=function(e,t){return e.data=jt(e.data,t),e.attachments=void 0,e},Ht=function(e,t){var n=0,r=e;!function e(o,i,a){if(!o)return o;if(_t&&o instanceof Blob||Ft&&o instanceof File){n++;var s=new FileReader;s.onload=function(){a?a[i]=this.result:r=this.result,--n||t(r)},s.readAsArrayBuffer(o)}else if(xt(o))for(var c=0;c<o.length;c++)e(o[c],c,o);else if("object"==typeof o&&!St(o))for(var u in o)e(o[u],u,o)}(r),n||t(r)},Mt=f((function(e,t){var n=wt("socket.io-parser");function r(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a;var o=t.ERROR+'"encode error"';function i(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===i)return o;r+=i}return n("encoded %j as %s",e,r),r}function a(){this.reconstructor=null}function s(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:t.ERROR,data:"parser error: "+e}}r.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function n(e){var n=Bt(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}Ht(e,n)}(e,r):r([i(e)])},kt(a.prototype),a.prototype.add=function(e){var r;if("string"==typeof e)r=function(e){var r=0,o={type:Number(e.charAt(0))};if(null==t.types[o.type])return c("unknown packet type "+o.type);if(t.BINARY_EVENT===o.type||t.BINARY_ACK===o.type){for(var i=r+1;"-"!==e.charAt(++r)&&r!=e.length;);var a=e.substring(i,r);if(a!=Number(a)||"-"!==e.charAt(r))throw new Error("Illegal attachments");o.attachments=Number(a)}if("/"===e.charAt(r+1)){for(i=r+1;++r;){if(","===(u=e.charAt(r)))break;if(r===e.length)break}o.nsp=e.substring(i,r)}else o.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(i=r+1;++r;){var u;if(null==(u=e.charAt(r))||Number(u)!=u){--r;break}if(r===e.length)break}o.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(r));if(!(!1!==l&&(o.type===t.ERROR||xt(l))))return c("invalid payload");o.data=l}return n("decoded %s as %j",e,o),o}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new s(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!St(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},s.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Rt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},s.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}})),Pt=f((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}})),Dt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Lt=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Pt))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(Dt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}},zt=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},Nt=Object.prototype.toString,It="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Nt.call(Blob),qt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Nt.call(File),Wt=function e(t){if(!t||"object"!=typeof t)return!1;if(xt(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||It&&t instanceof Blob||qt&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1};var Ut=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(e),i=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer},Vt=function(e,t,n){var r=!1;return n=n||$t,o.count=e,0===e?t():o;function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=n):0!==o.count||r||t(null,i)}};function $t(){}var Xt,Yt,Jt,Kt=String.fromCharCode;function Gt(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function Zt(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function Qt(e,t){return Kt(e>>t&63|128)}function en(e,t){if(0==(4294967168&e))return Kt(e);var n="";return 0==(4294965248&e)?n=Kt(e>>6&31|192):0==(4294901760&e)?(Zt(e,t)||(e=65533),n=Kt(e>>12&15|224),n+=Qt(e,6)):0==(4292870144&e)&&(n=Kt(e>>18&7|240),n+=Qt(e,12),n+=Qt(e,6)),n+=Kt(63&e|128)}function tn(){if(Jt>=Yt)throw Error("Invalid byte index");var e=255&Xt[Jt];if(Jt++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function nn(e){var t,n;if(Jt>Yt)throw Error("Invalid byte index");if(Jt==Yt)return!1;if(t=255&Xt[Jt],Jt++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|tn())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|tn()<<6|tn())>=2048)return Zt(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|tn()<<12|tn()<<6|tn())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var rn={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=Gt(e),o=r.length,i=-1,a="";++i<o;)a+=en(r[i],n);return a},decode:function(e,t){var n=!1!==(t=t||{}).strict;Xt=Gt(e),Yt=Xt.length,Jt=0;for(var r,o=[];!1!==(r=nn(n));)o.push(r);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=Kt((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=Kt(t);return o}(o)}},on=f((function(e,t){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,r=new Uint8Array(e),o=r.length,i="";for(t=0;t<o;t+=3)i+=n[r[t]>>2],i+=n[(3&r[t])<<4|r[t+1]>>4],i+=n[(15&r[t+1])<<2|r[t+2]>>6],i+=n[63&r[t+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;t<c;t+=4)r=n.indexOf(e[t]),o=n.indexOf(e[t+1]),i=n.indexOf(e[t+2]),a=n.indexOf(e[t+3]),f[u++]=r<<2|o>>4,f[u++]=(15&o)<<4|i>>2,f[u++]=(3&i)<<6|63&a;return l}})),an=void 0!==an?an:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,sn=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),cn=sn&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),un=an&&an.prototype.append&&an.prototype.getBlob;function ln(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function fn(e,t){t=t||{};var n=new an;return ln(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function hn(e,t){return new Blob(ln(e),t||{})}"undefined"!=typeof Blob&&(fn.prototype=Blob.prototype,hn.prototype=Blob.prototype);var pn=sn?cn?Blob:hn:un?fn:void 0,dn=f((function(e,t){var n;"undefined"!=typeof ArrayBuffer&&(n=on);var r="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),o="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),i=r||o;t.protocol=3;var a=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},s=zt(a),c={type:"error",data:"parser error"};function u(e,t,n){for(var r=new Array(e.length),o=Vt(e.length,n),i=function(e,n,o){t(n,(function(t,n){r[e]=n,o(t,r)}))},a=0;a<e.length;a++)i(a,e[a],o)}t.encodePacket=function(e,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var s=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=e.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=a[e.type];for(var c=0;c<i.length;c++)s[c+1]=i[c];return r(s.buffer)}(e,n,o);if(void 0!==pn&&s instanceof pn)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(i)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var o=new FileReader;return o.onload=function(){t.encodePacket({type:e.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(e.data)}(e,n,r);var o=new Uint8Array(1);o[0]=a[e.type];var s=new pn([o.buffer,e.data]);return r(s)}(e,n,o);if(s&&s.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,o);var c=a[e.type];return void 0!==e.data&&(c+=r?rn.encode(String(e.data),{strict:!1}):String(e.data)),o(""+c)},t.encodeBase64Packet=function(e,n){var r,o="b"+t.packets[e.type];if(void 0!==pn&&e.data instanceof pn){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(o+e)},i.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},t.decodePacket=function(e,n,r){if(void 0===e)return c;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=rn.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return c;var o=e.charAt(0);return Number(o)==o&&s[o]?e.length>1?{type:s[o],data:e.substring(1)}:{type:s[o]}:c}o=new Uint8Array(e)[0];var i=Ut(e,1);return pn&&"blob"===n&&(i=new pn([i])),{type:s[o],data:i}},t.decodeBase64Packet=function(e,t){var r=s[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var o=n.decode(e.substr(1));return"blob"===t&&pn&&(o=new pn([o])),{type:r,data:o}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=Wt(e);if(n&&o)return pn&&!i?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");u(e,(function(e,r){t.encodePacket(e,!!o&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===e)return r(c,0,1);for(var i,a,s="",u=0,l=e.length;u<l;u++){var f=e.charAt(u);if(":"===f){if(""===s||s!=(i=Number(s)))return r(c,0,1);if(s!=(a=e.substr(u+1,i)).length)return r(c,0,1);if(a.length){if(o=t.decodePacket(a,n,!1),c.type===o.type&&c.data===o.data)return r(c,0,1);if(!1===r(o,u+i,l))return}u+=i,s=""}else s+=f}return""!==s?r(c,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));u(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),o=new Uint8Array(r),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}o[i++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]})),n(o.buffer)}))},t.encodePayloadAsBlob=function(e,n){u(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);e=r.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,pn){var s=new pn([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new pn(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var o=e,i=[];o.byteLength>0;){for(var a=new Uint8Array(o),s=0===a[0],u="",l=1;255!==a[l];l++){if(u.length>310)return r(c,0,1);u+=a[l]}o=Ut(o,2+u.length),u=parseInt(u);var f=Ut(o,0,u);if(s)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(e){var h=new Uint8Array(f);f="";for(l=0;l<h.length;l++)f+=String.fromCharCode(h[l])}i.push(f),o=Ut(o,u)}var p=i.length;i.forEach((function(e,o){r(t.decodePacket(e,n,!0),o,p)}))}})),yn=gn;function gn(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}kt(gn.prototype),gn.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},gn.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},gn.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},gn.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},gn.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},gn.prototype.onData=function(e){var t=dn.decodePacket(e,this.socket.binaryType);this.onPacket(t)},gn.prototype.onPacket=function(e){this.emit("packet",e)},gn.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var mn,vn=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},bn=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t},wn=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},kn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Cn={},xn=0,Sn=0;function Tn(e){var t="";do{t=kn[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function En(){var e=Tn(+new Date);return e!==mn?(xn=0,mn=e):e+"."+Tn(xn++)}for(;Sn<64;Sn++)Cn[kn[Sn]]=Sn;En.encode=Tn,En.decode=function(e){var t=0;for(Sn=0;Sn<e.length;Sn++)t=64*t+Cn[e.charAt(Sn)];return t};var On=En,_n=wt("engine.io-client:polling"),Fn=jn,An=null!=new Lt({xdomain:!1}).responseType;function jn(e){var t=e&&e.forceBase64;An&&!t||(this.supportsBinary=!1),yn.call(this,e)}wn(jn,yn),jn.prototype.name="polling",jn.prototype.doOpen=function(){this.poll()},jn.prototype.pause=function(e){var t=this;function n(){_n("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(_n("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){_n("pre-pause polling complete"),--r||n()}))),this.writable||(_n("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){_n("pre-pause writing complete"),--r||n()})))}else n()},jn.prototype.poll=function(){_n("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},jn.prototype.onData=function(e){var t=this;_n("polling got data %s",e);dn.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():_n('ignoring poll - transport state "%s"',this.readyState))},jn.prototype.doClose=function(){var e=this;function t(){_n("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(_n("transport open - closing"),t()):(_n("transport not open - deferring close"),this.once("open",t))},jn.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};dn.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},jn.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=On()),this.supportsBinary||e.sid||(e.b64=1),e=vn(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var Bn=wt("engine.io-client:polling-xhr"),Rn=Pn,Hn=Dn;function Mn(){}function Pn(e){if(Fn.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function Dn(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(wn(Pn,Fn),Pn.prototype.supportsBinary=!0,Pn.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new Dn(e)},Pn.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),o=this;r.on("success",t),r.on("error",(function(e){o.onError("xhr post error",e)})),this.sendXhr=r},Pn.prototype.doPoll=function(){Bn("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},kt(Dn.prototype),Dn.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new Lt(e),n=this;try{Bn("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},Bn("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Dn.requestsCount++,Dn.requests[this.index]=this)},Dn.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Dn.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Dn.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Dn.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Mn:this.xhr.onreadystatechange=Mn,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Dn.requests[this.index],this.xhr=null}},Dn.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Dn.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Dn.prototype.abort=function(){this.cleanup()},Dn.requestsCount=0,Dn.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Ln);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Dt?"pagehide":"unload",Ln,!1)}function Ln(){for(var e in Dn.requests)Dn.requests.hasOwnProperty(e)&&Dn.requests[e].abort()}Rn.Request=Hn;var zn,Nn=Un,In=/\n/g,qn=/\\n/g;function Wn(){}function Un(e){Fn.call(this,e),this.query=this.query||{},zn||(zn=Dt.___eio=Dt.___eio||[]),this.index=zn.length;var t=this;zn.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=Wn)}),!1)}wn(Un,Fn),Un.prototype.supportsBinary=!1,Un.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Fn.prototype.doClose.call(this)},Un.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},Un.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=a,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function s(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),c(),e=e.replace(qn,"\\\n"),this.area.value=e.replace(In,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&s()}:this.iframe.onload=s};var Vn,$n,Xn=l(Object.freeze({__proto__:null,default:{}})),Yn=wt("engine.io-client:websocket");if("undefined"!=typeof WebSocket?Vn=WebSocket:"undefined"!=typeof self&&(Vn=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{$n=Xn}catch(e){}var Jn=Vn||$n,Kn=Gn;function Gn(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=Vn&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(Jn=$n),yn.call(this,e)}wn(Gn,yn),Gn.prototype.name="websocket",Gn.prototype.supportsBinary=!0,Gn.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new Jn(e,t):new Jn(e):new Jn(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},Gn.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},Gn.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,o=n;r<o;r++)!function(e){dn.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),t.perMessageDeflate)("string"==typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,o)}catch(e){Yn("websocket closed before onclose event")}--n||i()}))}(e[r]);function i(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},Gn.prototype.onClose=function(){yn.prototype.onClose.call(this)},Gn.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Gn.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=On()),this.supportsBinary||(e.b64=1),(e=vn(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},Gn.prototype.check=function(){return!(!Jn||"__initialize"in Jn&&this.name===Gn.prototype.name)};var Zn={polling:function(e){var t=!1,n=!1,r=!1!==e.jsonp;if("undefined"!=typeof location){var o="https:"===location.protocol,i=location.port;i||(i=o?443:80),t=e.hostname!==location.hostname||i!==e.port,n=e.secure!==o}if(e.xdomain=t,e.xscheme=n,"open"in new Lt(e)&&!e.forceJSONP)return new Rn(e);if(!r)throw new Error("JSONP disabled");return new Nn(e)},websocket:Kn},Qn=[].indexOf,er=function(e,t){if(Qn)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},tr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],rr=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o,i,a=tr.exec(e||""),s={},c=14;c--;)s[nr[c]]=a[c]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=(o=s.query,i={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(i[t]=n)})),i),s};var or=wt("engine.io-client:socket"),ir=ar;function ar(e,t){if(!(this instanceof ar))return new ar(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=rr(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=rr(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=bn(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}ar.priorWebsocketSuccess=!1,kt(ar.prototype),ar.protocol=dn.protocol,ar.Socket=ar,ar.Transport=yn,ar.transports=Zn,ar.parser=dn,ar.prototype.createTransport=function(e){or('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=dn.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new Zn[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},ar.prototype.open=function(){var e;if(this.rememberUpgrade&&ar.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},ar.prototype.setTransport=function(e){or("setting transport %s",e.name);var t=this;this.transport&&(or("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},ar.prototype.probe=function(e){or('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(or('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(or('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;ar.priorWebsocketSuccess="websocket"===t.name,or('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(or("changing transport and sending upgrade packet"),l(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{or('probe transport "%s" failed',e);var i=new Error("probe error");i.transport=t.name,r.emit("upgradeError",i)}})))}function i(){n||(n=!0,l(),t.close(),t=null)}function a(n){var o=new Error("probe error: "+n);o.transport=t.name,i(),or('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function s(){a("transport closed")}function c(){a("socket closed")}function u(e){t&&e.name!==t.name&&(or('"%s" works - aborting "%s"',e.name,t.name),i())}function l(){t.removeListener("open",o),t.removeListener("error",a),t.removeListener("close",s),r.removeListener("close",c),r.removeListener("upgrading",u)}ar.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",a),t.once("close",s),this.once("close",c),this.once("upgrading",u),t.open()},ar.prototype.onOpen=function(){if(or("socket open"),this.readyState="open",ar.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){or("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},ar.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(or('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else or('packet received with socket readyState "%s"',this.readyState)},ar.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},ar.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},ar.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){or("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},ar.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},ar.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},ar.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(or("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},ar.prototype.write=ar.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},ar.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},ar.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),or("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},ar.prototype.onError=function(e){or("socket error %j",e),ar.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},ar.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){or('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},ar.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~er(this.transports,e[n])&&t.push(e[n]);return t};var sr=ir,cr=dn;sr.parser=cr;var ur=f((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),lr=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n};var fr=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}};var hr=[].slice,pr=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=hr.call(arguments,2);return function(){return t.apply(e,n.concat(hr.call(arguments)))}},dr=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},yr=f((function(e,t){var n=ut("socket.io-client:socket");e.exports=i;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},o=ur.prototype.emit;function i(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}ur(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[fr(e,"open",pr(this,"onopen")),fr(e,"packet",pr(this,"onpacket")),fr(e,"close",pr(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},i.prototype.send=function(){var e=lr(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(r.hasOwnProperty(e))return o.apply(this,arguments),this;var t=lr(arguments),i={type:(void 0!==this.flags.binary?this.flags.binary:Wt(t))?Mt.BINARY_EVENT:Mt.EVENT,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){if(n("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?dr(this.query):this.query;n("sending connect packet with query %s",e),this.packet({type:Mt.CONNECT,query:e})}else this.packet({type:Mt.CONNECT})},i.prototype.onclose=function(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===Mt.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case Mt.CONNECT:this.onconnect();break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(e);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(e);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?o.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var o=lr(arguments);n("sending ack %j",o),t.packet({type:Wt(o)?Mt.BINARY_ACK:Mt.ACK,id:e,data:o})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)o.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Mt.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags.compress=e,this},i.prototype.binary=function(e){return this.flags.binary=e,this}})),gr=mr;function mr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}mr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},mr.prototype.reset=function(){this.attempts=0},mr.prototype.setMin=function(e){this.ms=e},mr.prototype.setMax=function(e){this.max=e},mr.prototype.setJitter=function(e){this.jitter=e};var vr=ut("socket.io-client:manager"),br=Object.prototype.hasOwnProperty,wr=kr;function kr(e,t){if(!(this instanceof kr))return new kr(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new gr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||Mt;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}kr.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)br.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},kr.prototype.updateSocketIds=function(){for(var e in this.nsps)br.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},kr.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},ur(kr.prototype),kr.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},kr.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},kr.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},kr.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},kr.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},kr.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},kr.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},kr.prototype.open=kr.prototype.connect=function(e,t){if(vr("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;vr("opening %s",this.uri),this.engine=sr(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=fr(n,"open",(function(){r.onopen(),e&&e()})),i=fr(n,"error",(function(t){if(vr("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;vr("connect attempt will timeout after %d",a);var s=setTimeout((function(){vr("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(o),this.subs.push(i),this},kr.prototype.onopen=function(){vr("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(fr(e,"data",pr(this,"ondata"))),this.subs.push(fr(e,"ping",pr(this,"onping"))),this.subs.push(fr(e,"pong",pr(this,"onpong"))),this.subs.push(fr(e,"error",pr(this,"onerror"))),this.subs.push(fr(e,"close",pr(this,"onclose"))),this.subs.push(fr(this.decoder,"decoded",pr(this,"ondecoded")))},kr.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},kr.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},kr.prototype.ondata=function(e){this.decoder.add(e)},kr.prototype.ondecoded=function(e){this.emit("packet",e)},kr.prototype.onerror=function(e){vr("error",e),this.emitAll("error",e)},kr.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new yr(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&o()}function o(){~er(r.connecting,n)||r.connecting.push(n)}return n},kr.prototype.destroy=function(e){var t=er(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},kr.prototype.packet=function(e){vr("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},kr.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},kr.prototype.cleanup=function(){vr("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},kr.prototype.close=kr.prototype.disconnect=function(){vr("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},kr.prototype.onclose=function(e){vr("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},kr.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)vr("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();vr("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(vr("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(vr("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(vr("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},kr.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)};var Cr=f((function(e,t){var n=ut("socket.io-client");e.exports=t=o;var r=t.managers={};function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i=ft(e),a=i.source,s=i.id,c=i.path,u=r[s]&&c in r[s].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||u?(n("ignoring socket cache for %s",a),o=wr(a,t)):(r[s]||(n("new io instance for %s",a),r[s]=wr(a,t)),o=r[s]),i.query&&!t.query&&(t.query=i.query),o.socket(i.path,t)}t.protocol=Mt.protocol,t.connect=o,t.Manager=wr,t.Socket=yr}));function xr(t){var n=this,o=e.useState(""),c=o[0],u=o[1],l=e.useState(!1),f=l[0],h=l[1],p=e.useState([]),d=p[0],y=p[1],g=e.useState(null),m=g[0],v=g[1],b=e.useState(!1),w=b[0],k=b[1];e.useEffect((function(){var e=t.data,r=e.service,o=e.advert,s=e.url;i(n,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch(s+"/api/v1/chat/get_history",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({service:r,advert:o})})];case 1:return[4,t.sent().json()];case 2:if(!1===(e=t.sent()).status)throw new Error;return y(e.result.messages),u(e.result.chatId),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))}),[]),e.useEffect((function(){if(""!==c&&!m){var e=Cr(t.data.url+"/chat",{query:"chatId="+c});return e.on("updateNewMessage",(function(e){y((function(t){return t.some((function(t){return t.id===e.id}))?t:s(s([],t),[e])}))})),e.on("disconnect",(function(){null==e||e.disconnect()})),v(e),function(){null==e||e.disconnect()}}}),[c]);var C=r.default.createElement(Le,{messages:[]});return w?C=r.default.createElement(Le,{messages:d}):setTimeout((function(){k(!0)}),600),r.default.createElement("div",{className:"sct2-chat"+(f?" out":"")},r.default.createElement("div",{className:"chat__content"},r.default.createElement("div",{className:"chat__header"},r.default.createElement(Oe,null),r.default.createElement("h4",null,"Чат"),r.default.createElement("span",{onClick:function(){h(!0),setTimeout((function(){t.onClose()}),610)}},r.default.createElement(Pe,null))),C,r.default.createElement(Sr,{sendMessage:function(e,r){if(m&&(e&&m.emit("newMessage",e),r)){var o=new FormData;o.append("file",r),fetch(t.data.url+"/api/v1/file/upload",{method:"POST",headers:{chatId:c},body:o}).then((function(e){return i(n,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return n=(t=console).log,[4,e.json()];case 1:return n.apply(t,[r.sent()]),[2]}}))}))})).catch((function(e){console.log(e)}))}}})))}function Sr(t){var n=e.useState(0),o=n[0],i=n[1],a=e.useState(""),s=a[0],c=a[1];return r.default.createElement("div",{className:"chat__input",style:{height:o}},r.default.createElement("div",{className:"chat__textarea"},r.default.createElement(ke,{autoHide:!0},r.default.createElement("div",{style:{width:"100%"}},r.default.createElement(Ge,{value:s,onChange:function(e){console.log(e.target.value),c(e.target.value)},minRows:3,onHeightChange:function(e){i(e)}})))),r.default.createElement("div",{className:"button"},r.default.createElement("span",{onClick:function(){s.length>0&&t.sendMessage(s,null),c("")}},r.default.createElement(Re,null)),r.default.createElement("span",null,r.default.createElement("label",{htmlFor:"attachFile"},r.default.createElement(Ae,null)),r.default.createElement("input",{type:"file",multiple:!1,id:"attachFile",style:{display:"none"},onChange:function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.files[0];r instanceof File&&(t.sendMessage(null,r),e.target.value=null)}}))))}function Tr(e){return r.default.createElement("div",{onClick:function(){e.onOpen()},className:"sct2-chat-preview"},r.default.createElement("span",{className:"img"},r.default.createElement(Se,{size:44,color:"white"})))}function Er(t){var n=e.useState(!1),o=n[0],i=n[1];return o?r.default.createElement(xr,{data:{service:t.service,url:t.url,advert:t.advert},onClose:function(){i(!1)}}):r.default.createElement(Tr,{onOpen:function(){i(!0)}})}De(".sct2-chat-preview{position:fixed;bottom:16px;right:16px;cursor:pointer;background-color:#1e88e5;border-radius:64px;width:64px;height:64px;display:flex;justify-content:center;align-items:center;animation:pulse 5s infinite}@keyframes pulse{0%{box-shadow:0 0 10px 0 #1e88e5}50%{box-shadow:0 0 10px 5px #1e88e5}to{box-shadow:0 0 10px 0 #1e88e5}}.sct2-chat-preview .img{width:44px;height:44px;display:block}");De(""),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("chatsupport2"),t=e.dataset.url,n=e.dataset.service,i=e.dataset.advert;o.default.render(r.default.createElement(Er,{service:n,url:t,advert:i}),e)}))}(React,ReactDOM);
